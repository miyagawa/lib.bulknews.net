<HTML>
<HEAD>
<TITLE>perldelta - what is new for perl v5.8.0</TITLE>
<LINK REV="made" HREF="mailto:hackers@FreeBSD.org">
</HEAD>

<BODY>

<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#NAME">NAME</A>
	<LI><A HREF="#DESCRIPTION">DESCRIPTION</A>
	<LI><A HREF="#Incompatible_Changes">Incompatible Changes</A>
	<UL>

		<LI><A HREF="#64_bit_platforms_and_malloc">64-bit platforms and malloc</A>
		<LI><A HREF="#AIX_Dynaloading">AIX Dynaloading</A>
		<LI><A HREF="#Socket_Extension_Dynamic_in_VMS">Socket Extension Dynamic in VMS</A>
		<LI><A HREF="#Different_Definition_of_the_Unic">Different Definition of the Unicode Character Classes \p{In...}</A>
		<LI><A HREF="#Perl_Parser_Stress_Tested">Perl Parser Stress Tested</A>
		<LI><A HREF="#Deprecations">Deprecations</A>
	</UL>

	<LI><A HREF="#Core_Enhancements">Core Enhancements</A>
	<UL>

		<LI><A HREF="#PerlIO_is_Now_The_Default">PerlIO is Now The Default</A>
		<LI><A HREF="#Signals_Are_Now_Safe">Signals Are Now Safe</A>
		<LI><A HREF="#Unicode_Overhaul">Unicode Overhaul</A>
		<LI><A HREF="#Understanding_of_Numbers">Understanding of Numbers</A>
		<LI><A HREF="#Miscellaneous_Enhancements">Miscellaneous Enhancements</A>
	</UL>

	<LI><A HREF="#Modules_and_Pragmata">Modules and Pragmata</A>
	<UL>

		<LI><A HREF="#New_Modules_and_Pragmata">New Modules and Pragmata</A>
		<LI><A HREF="#Updated_And_Improved_Modules_and">Updated And Improved Modules and Pragmata</A>
	</UL>

	<LI><A HREF="#Utility_Changes">Utility Changes</A>
	<LI><A HREF="#New_Documentation">New Documentation</A>
	<LI><A HREF="#Performance_Enhancements">Performance Enhancements</A>
	<LI><A HREF="#Installation_and_Configuration_I">Installation and Configuration Improvements</A>
	<UL>

		<LI><A HREF="#Generic_Improvements">Generic Improvements</A>
		<LI><A HREF="#New_Or_Improved_Platforms">New Or Improved Platforms</A>
	</UL>

	<LI><A HREF="#Selected_Bug_Fixes">Selected Bug Fixes</A>
	<UL>

		<LI><A HREF="#Platform_Specific_Changes_and_Fi">Platform Specific Changes and Fixes</A>
	</UL>

	<LI><A HREF="#New_or_Changed_Diagnostics">New or Changed Diagnostics</A>
	<LI><A HREF="#Changed_Internals">Changed Internals</A>
	<LI><A HREF="#Security_Vulnerability_Closed">Security Vulnerability Closed</A>
	<LI><A HREF="#New_Tests">New Tests</A>
	<LI><A HREF="#Known_Problems">Known Problems</A>
	<UL>

		<LI><A HREF="#AIX">AIX</A>
		<LI><A HREF="#Amiga_Perl_Invoking_Mystery">Amiga Perl Invoking Mystery</A>
		<LI><A HREF="#lib_ftmp_security_tests_warn_sy">lib/ftmp-security tests warn 'system possibly insecure'</A>
		<LI><A HREF="#Cygwin_intermittent_failures_of_">Cygwin intermittent failures of lib/Memoize/t/expire_file 11 and 12</A>
		<LI><A HREF="#HP_UX_lib_io_multihomed_Fails_Wh">HP-UX lib/io_multihomed Fails When LP64-Configured</A>
		<LI><A HREF="#HP_UX_lib_posix_Subtest_9_Fails_">HP-UX lib/posix Subtest 9 Fails When LP64-Configured</A>
		<LI><A HREF="#Linux_With_Sfio_Fails_op_misc_Te">Linux With Sfio Fails op/misc Test 48</A>
		<LI><A HREF="#OS_390">OS/390</A>
		<LI><A HREF="#op_sprintf_tests_129_and_130">op/sprintf tests 129 and 130</A>
		<LI><A HREF="#Failure_of_Thread_tests">Failure of Thread tests</A>
		<LI><A HREF="#UNICOS">UNICOS</A>
		<LI><A HREF="#UTS">UTS</A>
		<LI><A HREF="#VMS">VMS</A>
		<LI><A HREF="#Win32">Win32</A>
		<LI><A HREF="#Localising_a_Tied_Variable_Leaks">Localising a Tied Variable Leaks Memory</A>
		<LI><A HREF="#Self_tying_of_Arrays_and_Hashes_">Self-tying of Arrays and Hashes Is Forbidden</A>
		<LI><A HREF="#Variable_Attributes_are_not_Curr">Variable Attributes are not Currently Usable for Tieing</A>
		<LI><A HREF="#Building_Extensions_Can_Fail_Bec">Building Extensions Can Fail Because Of Largefiles</A>
		<LI><A HREF="#The_Compiler_Suite_Is_Still_Expe">The Compiler Suite Is Still Experimental</A>
		<LI><A HREF="#The_Long_Double_Support_is_Still">The Long Double Support is Still Experimental</A>
	</UL>

	<LI><A HREF="#Reporting_Bugs">Reporting Bugs</A>
	<LI><A HREF="#SEE_ALSO">SEE ALSO</A>
	<LI><A HREF="#HISTORY">HISTORY</A>
</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="NAME">NAME</A></H1>
<P>
perldelta - what is new for perl v5.8.0

<P>
<HR>
<H1><A NAME="DESCRIPTION">DESCRIPTION</A></H1>
<P>
This document describes differences between the 5.6.0 release and the 5.8.0
release.

<P>
<HR>
<H1><A NAME="Incompatible_Changes">Incompatible Changes</A></H1>
<P>
<HR>
<H2><A NAME="64_bit_platforms_and_malloc">64-bit platforms and malloc</A></H2>
<P>
If your pointers are 64 bits wide, the Perl malloc is no more being used
because it simply does not work with 8-byte pointers. Also, usually the
system mallocs on such platforms are much better optimized for such large
memory models than the Perl malloc. Such platforms include 64-bit Alpha,
MIPS, HPPA, PPC, and Sparc.

<P>
<HR>
<H2><A NAME="AIX_Dynaloading">AIX Dynaloading</A></H2>
<P>
The AIX dynaloading now uses in AIX releases 4.3 and newer the native
dlopen interface of AIX instead of the old emulated interface. This change
will probably break backward compatibility with compiled modules. The
change was made to make Perl more compliant with other applications like
modperl which are using the AIX native interface.

<P>
<HR>
<H2><A NAME="Socket_Extension_Dynamic_in_VMS">Socket Extension Dynamic in VMS</A></H2>
<P>
The Socket extension is now dynamically loaded instead of being statically
built in. This may or may not be a problem with ancient TCP/IP stacks of
VMS: we do not know since we weren't able to test Perl in such
configurations.

<P>
<HR>
<H2><A NAME="Different_Definition_of_the_Unic">Different Definition of the Unicode Character Classes \p{In...}</A></H2>
<P>
As suggested by the Unicode consortium, the Unicode character classes now
prefer <EM>scripts</EM> as opposed to <EM>blocks</EM> (as defined by Unicode); in Perl, when the <CODE>\p{In....}</CODE> and the <CODE>\p{In....}</CODE> regular expression constructs are used. This has changed the definition of
some of those character classes.

<P>
The difference between scripts and blocks is that scripts are the glyphs
used by a language or a group of languages, while the blocks are more
artificial groupings of 256 characters based on the Unicode numbering.

<P>
In general this change results in more inclusive Unicode character classes,
but changes to the other direction also do take place: for example while
the script <CODE>Latin</CODE> includes all the Latin characters and their various diacritic-adorned
versions, it does not include the various punctuation or digits (since they
are not solely <CODE>Latin</CODE>).

<P>
Changes in the character class semantics may have happened if a script and
a block happen to have the same name, for example <CODE>Hebrew</CODE>. In such cases the script wins and <CODE>\p{InHebrew}</CODE> now means the script definition of Hebrew. The block definition in still
available, though, by appending <CODE>Block</CODE> to the name: <CODE>\p{InHebrewBlock}</CODE> means what <CODE>\p{InHebrew}</CODE> meant in perl 5.6.0. For the full list of affected character classes, see <EM>perlunicode</EM>.

<P>
<HR>
<H2><A NAME="Perl_Parser_Stress_Tested">Perl Parser Stress Tested</A></H2>
<P>
The Perl parser has been stress tested using both random input and Markov
chain input and the few found crashes and lockups have been fixed.

<P>
<HR>
<H2><A NAME="Deprecations">Deprecations</A></H2>
<P>
The current user-visible implementation of pseudo-hashes (the weird use of
the first array element) is deprecated starting from Perl 5.8.0 and will be
removed in Perl 5.10.0, and the feature will be implemented differently.
Not only is the current interface rather ugly, but the current
implementation slows down normal array and hash use quite noticeably. The <CODE>fields</CODE> pragma interface will remain available.

<P>
The syntaxes <CODE>@a-</CODE>[...]&gt; and  <CODE>@h-</CODE>{...}&gt; have now been deprecated.

<P>
After years of trying the suidperl is considered to be too complex to ever
be considered truly secure. The suidperl functionality is likely to be
removed in a future release.

<P>
The <CODE>package;</CODE> syntax (<CODE>package</CODE> without an argument has been deprecated. Its semantics were never that
clear and its implementation even less so. If you have used that feature to
disallow all but fully qualified variables, <CODE>use strict;</CODE> instead.

<UL>
<LI>
<P>
The semantics of <CODE>bless(REF,</CODE> REF) were unclear and until
someone proves it to make some sense, it is forbidden.

<LI>
<P>
A reference to a reference now stringify as ``REF(0x81485ec)'' instead of
``SCALAR(0x81485ec)'' in order to be more consistent with the return value
of <CODE>ref().</CODE>

<LI>
<P>
The very dusty examples in the eg/ directory have been removed. Suggestions
for new shiny examples welcome but the main issue is that the examples need
to be documented, tested and (most importantly) maintained.

<LI>
<P>
The obsolete chat2 library that should never have been allowed to escape
the laboratory has been decommissioned.

<LI>
<P>
The unimplemented POSIX regex features [[.cc.]] and [[=c=]] are still
recognised but now cause fatal errors. The previous behaviour of ignoring
them by default and warning if requested was unacceptable since it, in a
way, falsely promised that the features could be used.

<LI>
<P>
The (bogus) escape sequences \8 and \9 now give an optional warning
(``Unrecognized escape passed through''). There is no need to \-escape any <CODE>\w</CODE> character.

<LI>
<P>
<CODE>lstat(FILEHANDLE)</CODE> now gives a warning because the operation
makes no sense. In future releases this may become a fatal error.

<LI>
<P>
The long deprecated uppercase aliases for the string comparison operators
(EQ, NE, LT, LE, GE, GT) have now been removed.

<LI>
<P>
The regular expression captured submatches ($1, $2, ...) are now more
consistently unset if the match fails, instead of leaving false data lying
around in them.

<LI>
<P>
The tr///C and tr///U features have been removed and will not return; the
interface was a mistake. Sorry about that. For similar functionality, see
<CODE>pack('U0',</CODE> ...) and <CODE>pack('C0',</CODE> ...).

<LI>
<P>
Although ``you shouldn't do that'', it was possible to write code that
depends on Perl's hashed key order (Data::Dumper does this). The new
algorithm ``One-at-a-Time'' produces a different hashed key order. More
details are in <A HREF="#Performance_Enhancements">Performance Enhancements</A>.

<LI>
<P>
The list of filenames from <CODE>glob()</CODE> (or &lt;...&gt;) is now by
default sorted alphabetically to be csh-compliant. (bsd_glob() does still
sort platform natively, ASCII or EBCDIC, unless GLOB_ALPHASORT is
specified.)

</UL>
<P>
<HR>
<H1><A NAME="Core_Enhancements">Core Enhancements</A></H1>
<P>
<HR>
<H2><A NAME="PerlIO_is_Now_The_Default">PerlIO is Now The Default</A></H2>
<UL>
<LI>
<P>
IO is now by default done via PerlIO rather than system's ``stdio''. PerlIO
allows ``layers'' to be ``pushed'' onto a file handle to alter the handle's
behaviour. Layers can be specified at open time via 3-arg form of open:

<P>
<PRE>   open($fh,'&gt;:crlf :utf8', $path) || ...
</PRE>
<P>
or on already opened handles via extended <CODE>binmode</CODE>:

<P>
<PRE>   binmode($fh,':encoding(iso-8859-7)');
</PRE>
<P>
The built-in layers are: unix (low level read/write), stdio (as in previous
Perls), perlio (re-implementation of stdio buffering in a portable manner),
crlf (does CRLF &lt;=&gt; ``\n'' translation as on Win32, but available on
any platform). A mmap layer may be available if platform supports it
(mostly UNIXes).

<P>
Layers to be applied by default may be specified via the 'open' pragma.

<P>
See <A HREF="#Installation_and_Configuration_I">Installation and Configuration Improvements</A> for the effects of PerlIO on your architecture name.

<LI>
<P>
File handles can be marked as accepting Perl's internal encoding of Unicode
(UTF-8 or UTF-EBCDIC depending on platform) by a pseudo layer ``:utf8'' :

<P>
<PRE>   open($fh,&quot;&gt;:utf8&quot;,&quot;Uni.txt&quot;);
</PRE>
<P>
Note for EBCDIC users: the pseudo layer ``:utf8'' is erroneously named for
you since it's not UTF-8 what you will be getting but instead UTF-EBCDIC.
See <EM>perlunicode</EM>, <EM>utf8</EM>, and <A
HREF="http://www.unicode.org/unicode/reports/tr16/">http://www.unicode.org/unicode/reports/tr16/</A>
for more information. In future releases this naming may change.

<LI>
<P>
File handles can translate character encodings from/to Perl's internal
Unicode form on read/write via the ``:encoding()'' layer.

<LI>
<P>
File handles can be opened to ``in memory'' files held in Perl scalars via:

<P>
<PRE>   open($fh,'&gt;', \$variable) || ...
</PRE>
<LI>
<P>
Anonymous temporary files are available without need to 'use FileHandle' or
other module via

<P>
<PRE>   open($fh,&quot;+&gt;&quot;, undef) || ...
</PRE>
<P>
That is a literal undef, not an undefined value.

<LI>
<P>
The list form of <CODE>open</CODE> is now implemented for pipes (at least on UNIX):

<P>
<PRE>   open($fh,&quot;-|&quot;, 'cat', '/etc/motd')
</PRE>
<P>
creates a pipe, and runs the equivalent of <CODE>exec('cat',</CODE>
'/etc/motd') in the child process.

</UL>
<P>
<HR>
<H2><A NAME="Signals_Are_Now_Safe">Signals Are Now Safe</A></H2>
<P>
Perl used to be fragile in that signals arriving at inopportune moments
could corrupt Perl's internal state. Now Perl postpones handling of signals
until it's safe.

<P>
<HR>
<H2><A NAME="Unicode_Overhaul">Unicode Overhaul</A></H2>
<P>
Unicode in general should be now much more usable than in Perl 5.6.0 (or
even in 5.6.1). Unicode can be used in hash keys, Unicode in regular
expressions should work now, Unicode in tr/// should work now, Unicode in
I/O should work now.

<UL>
<LI>
<P>
The Unicode Character Database coming with Perl has been upgraded to
Unicode 3.1.1. For more information, see <A
HREF="http://www.unicode.org/.">http://www.unicode.org/.</A>

<LI>
<P>
For developers interested in enhancing Perl's Unicode capabilities: almost
all the UCD files are included with the Perl distribution in the
lib/unicore subdirectory. The most notable omission, for space
considerations, is the Unihan database.

<LI>
<P>
The Unicode character classes \p{Blank} and \p{SpacePerl} have been added.
``Blank'' is like C <CODE>isblank(),</CODE> that is, it contains only
``horizontal whitespace'' (the space character is, the newline isn't), and
the ``SpacePerl'' is the Unicode equivalent of <CODE>\s</CODE> (\p{Space} isn't, since that includes the vertical tabulator character,
whereas
<CODE>\s</CODE> doesn't.)

</UL>
<P>
<HR>
<H2><A NAME="Understanding_of_Numbers">Understanding of Numbers</A></H2>
<P>
In general a lot of fixing has happened in the area of Perl's understanding
of numbers, both integer and floating point. Since in many systems the
standard number parsing functions like <CODE>strtoul()</CODE>
and <CODE>atof()</CODE> seem to have bugs, Perl tries to work around their deficiencies. This
results hopefully in more accurate numbers.

<P>
Perl now tries internally to use integer values in numeric conversions and
basic arithmetics (+ - * /) if the arguments are integers, and tries also
to keep the results stored internally as integers. This change leads into
often slightly faster and always less lossy arithmetics. (Previously Perl
always preferred floating point numbers in its math.)

<P>
<HR>
<H2><A NAME="Miscellaneous_Enhancements">Miscellaneous Enhancements</A></H2>
<UL>
<LI>
<P>
AUTOLOAD is now lvaluable, meaning that you can add the :lvalue attribute
to AUTOLOAD subroutines and you can assign to the AUTOLOAD return value.

<LI>
<P>
<CODE>perl -d:Module=arg,arg,arg</CODE> now works (previously one couldn't pass in multiple arguments.)

<LI>
<P>
END blocks are now run even if you exit/die in a BEGIN block. Internally,
the execution of END blocks is now controlled by PL_exit_flags &amp;
PERL_EXIT_DESTRUCT_END. This enables the new behaviour for Perl embedders.
This will default in 5.10. See
<EM>perlembed</EM>.

<LI>
<P>
Formats now support zero-padded decimal fields.

<LI>
<P>
Lvalue subroutines can now return <CODE>undef</CODE> in list context.

<LI>
<P>
A new special regular expression variable has been introduced:
<CODE>$^N</CODE>, which contains the most-recently closed group (submatch).

<LI>
<P>
<CODE>no Module;</CODE> now works even if there is no ``sub unimport'' in the Module.

<LI>
<P>
The numerical comparison operators return <CODE>undef</CODE> if either operand is a NaN. Previously the behaviour was unspecified.

<LI>
<P>
The following builtin functions are now overridable: <CODE>each(),</CODE>
<CODE>keys(),</CODE> <CODE>pop(),</CODE> <CODE>push(),</CODE>
<CODE>shift(),</CODE> <CODE>splice(),</CODE> <CODE>unshift().</CODE>

<LI>
<P>
<CODE>pack('U0a*', ...)</CODE> can now be used to force a string to UTF8.

<LI>
<P>
my __PACKAGE__ <CODE>$obj</CODE> now works.

<LI>
<P>
The <CODE>printf()</CODE> and <CODE>sprintf()</CODE> now support parameter
reordering using the
<CODE>%\d+\$</CODE> and <CODE>*\d+\$</CODE> syntaxes. For example

<P>
<PRE>    print &quot;%2\$s %1\$s\n&quot;, &quot;foo&quot;, &quot;bar&quot;;
</PRE>
<P>
will print ``bar foo\n''; This feature helps in writing internationalised
software.

<LI>
<P>
<CODE>prototype(\&amp;)</CODE> is now available.

<LI>
<P>
<CODE>prototype(\[$@%&amp;])</CODE> is now available to implicitly create
references (useful for example if you want to emulate the
<CODE>tie()</CODE> interface).

<LI>
<P>
UNTIE method is now recognised.

<LI>
<P>
<EM>utime</EM> now supports <CODE>utime undef, undef, @files</CODE> to change the file timestamps to the current time.

<LI>
<P>
The rules for allowing underscores (underbars) in numeric constants have
been relaxed and simplified: now you can have an underscore simply <STRONG>between digits</STRONG>.

</UL>
<P>
<HR>
<H1><A NAME="Modules_and_Pragmata">Modules and Pragmata</A></H1>
<P>
<HR>
<H2><A NAME="New_Modules_and_Pragmata">New Modules and Pragmata</A></H2>
<UL>
<LI>
<P>
<CODE>Attribute::Handlers</CODE> allows a class to define attribute handlers.

<P>
<PRE>    package MyPack;
    use Attribute::Handlers;
    sub Wolf :ATTR(SCALAR) { print &quot;howl!\n&quot; }
</PRE>
<P>
<PRE>    # later, in some package using or inheriting from MyPack...
</PRE>
<P>
<PRE>    my MyPack $Fluffy : Wolf; # the attribute handler Wolf will be called
</PRE>
<P>
Both variables and routines can have attribute handlers. Handlers can be
specific to type (SCALAR, ARRAY, HASH, or CODE), or specific to the exact
compilation phase (BEGIN, CHECK, INIT, or END).

<LI>
<P>
<STRONG>B::Concise</STRONG> is a new compiler backend for walking the Perl syntax tree, printing
concise info about ops, from Stephen McCamant. The output is highly
customisable. See <A HREF="/B/Concise.html">B::Concise</A>.

<LI>
<P>
<CODE>Class::ISA</CODE> for reporting the search path for a class's ISA tree, by Sean Burke, has
been added. See <A HREF="/Class/ISA.html">Class::ISA</A>.

<LI>
<P>
<CODE>Cwd</CODE> has now a split personality: if possible, an XS extension is used, (this
will hopefully be faster, more secure, and more robust) but if not
possible, the familiar Perl implementation is used.

<LI>
<P>
<CODE>Devel::PPPort</CODE>, originally from Kenneth Albanowski and now maintained by Paul Marquess,
has been added. It is primarily used by <CODE>h2xs</CODE> to enhance portability of of XS modules between different versions of Perl.

<LI>
<P>
<CODE>Digest</CODE>, frontend module for calculating digests (checksums), from Gisle Aas, has
been added. See <EM>Digest</EM>.

<LI>
<P>
<CODE>Digest::MD5</CODE> for calculating MD5 digests (checksums) as defined in RFC 1321, from Gisle
Aas, has been added. See <A HREF="/Digest/MD5.html">Digest::MD5</A>.

<P>
<PRE>    use Digest::MD5 'md5_hex';
</PRE>
<P>
<PRE>    $digest = md5_hex(&quot;Thirsty Camel&quot;);
</PRE>
<P>
<PRE>    print $digest, &quot;\n&quot;; # 01d19d9d2045e005c3f1b80e8b164de1
</PRE>
<P>
NOTE: the <CODE>MD5</CODE> backward compatibility module is deliberately not included since its
further use is discouraged.

<LI>
<P>
<CODE>Encode</CODE>, by Nick Ing-Simmons, provides a mechanism to translate between different
character encodings. Support for Unicode, ISO-8859-*, ASCII, CP*, KOI8-R,
and three variants of EBCDIC are compiled in to the module. Several other
encodings (like Japanese, Chinese, and MacIntosh encodings) are included
and will be loaded at runtime. See <EM>Encode</EM>.

<P>
Any encoding supported by Encode module is also available to the
``:encoding()'' layer if PerlIO is used.

<LI>
<P>
<CODE>I18N::Langinfo</CODE> can be use to query locale information. See <A HREF="/I18N/Langinfo.html">I18N::Langinfo</A>.

<LI>
<P>
<CODE>I18N::LangTags</CODE> has functions for dealing with RFC3066-style language tags, by Sean Burke.
See &lt;I18N::LangTags&gt;.

<LI>
<P>
<CODE>ExtUtils::Constant</CODE> is a new tool for extension writers for generating XS code to import C
header constants, by Nicholas Clark. See <A HREF="/ExtUtils/Constant.html">ExtUtils::Constant</A>.

<LI>
<P>
<CODE>Filter::Simple</CODE> is an easy-to-use frontend to Filter::Util::Call, from Damian Conway. See <A HREF="/Filter/Simple.html">Filter::Simple</A>.

<P>
<PRE>    # in MyFilter.pm:
</PRE>
<P>
<PRE>    package MyFilter;
</PRE>
<P>
<PRE>    use Filter::Simple sub {
        while (my ($from, $to) = splice @_, 0, 2) {
                s/$from/$to/g;
        }
    };
</PRE>
<P>
<PRE>    1;
</PRE>
<P>
<PRE>    # in user's code:
</PRE>
<P>
<PRE>    use MyFilter qr/red/ =&gt; 'green';
</PRE>
<P>
<PRE>    print &quot;red\n&quot;;   # this code is filtered, will print &quot;green\n&quot;
    print &quot;bored\n&quot;; # this code is filtered, will print &quot;bogreen\n&quot;
</PRE>
<P>
<PRE>    no MyFilter;
</PRE>
<P>
<PRE>    print &quot;red\n&quot;;   # this code is not filtered, will print &quot;red\n&quot;
</PRE>
<LI>
<P>
<CODE>File::Temp</CODE> allows one to create temporary files and directories in an easy, portable,
and secure way, by Tim Jenness. See <A HREF="/File/Temp.html">File::Temp</A>.

<LI>
<P>
<CODE>Filter::Util::Call</CODE> provides you with the framework to write
<EM>Source Filters</EM> in Perl, from Paul Marquess. For most uses the frontend Filter::Simple is
to be preferred. See <A HREF="/Filter/Util/Call.html">Filter::Util::Call</A>.

<LI>
<P>
<EM>libnet</EM> is a collection of perl5 modules related to network programming, from
Graham Barr. See <A HREF="/Net/FTP.html">Net::FTP</A>, <A HREF="/Net/NNTP.html">Net::NNTP</A>,
<A HREF="/Net/Ping.html">Net::Ping</A>, <A HREF="/Net/POP3.html">Net::POP3</A>, <A HREF="/Net/SMTP.html">Net::SMTP</A>, and <A HREF="/Net/Time.html">Net::Time</A>.

<P>
Perl installation leaves libnet unconfigured, use <EM>libnetcfg</EM> to configure.

<LI>
<P>
<CODE>List::Util</CODE> is a selection of general-utility list subroutines, like
<CODE>sum(),</CODE> <CODE>min(),</CODE> <CODE>first(),</CODE> and
<CODE>shuffle(),</CODE> by Graham barr. See <A HREF="/List/Util.html">List::Util</A>.

<LI>
<P>
<CODE>Locale::Constants</CODE>, <CODE>Locale::Country</CODE>, <CODE>Locale::Currency</CODE>, and
<CODE>Locale::Language</CODE>, from Neil Bowers, have been added. They provide the codes for various
locale standards, such as ``fr'' for France, ``usd'' for US Dollar, and
``jp'' for Japanese.

<P>
<PRE>    use Locale::Country;
</PRE>
<P>
<PRE>    $country = code2country('jp');               # $country gets 'Japan'
    $code    = country2code('Norway');           # $code gets 'no'
</PRE>
<P>
See <A HREF="/Locale/Constants.html">Locale::Constants</A>, <A HREF="/Locale/Country.html">Locale::Country</A>, <A HREF="/Locale/Currency.html">Locale::Currency</A>, and <A HREF="/Locale/Language.html">Locale::Language</A>.

<LI>
<P>
<CODE>Locale::Maketext</CODE> is localization framework from Sean Burke. See
<A HREF="/Locale/Maketext.html">Locale::Maketext</A>, and <A HREF="/Locale/Maketext/TPJ13.html">Locale::Maketext::TPJ13</A>. The latter is an article about software localization, originally
published in The Perl Journal #13, republished here with kind permission.

<LI>
<P>
<CODE>Memoize</CODE> can make your functions faster by trading space for time, from Mark-Jason
Dominus. See <EM>Memoize</EM>.

<LI>
<P>
<CODE>MIME::Base64</CODE> allows you to encode data in base64, from Gisle Aas, as defined in RFC 2045
- <EM>MIME (Multipurpose Internet Mail
Extensions)</EM>.

<P>
<PRE>    use MIME::Base64;
</PRE>
<P>
<PRE>    $encoded = encode_base64('Aladdin:open sesame');
    $decoded = decode_base64($encoded);
</PRE>
<P>
<PRE>    print $encoded, &quot;\n&quot;; # &quot;QWxhZGRpbjpvcGVuIHNlc2FtZQ==&quot;
</PRE>
<P>
See <A HREF="/MIME/Base64.html">MIME::Base64</A>.

<LI>
<P>
<CODE>MIME::QuotedPrint</CODE> allows you to encode data in quoted-printable encoding, as defined in RFC
2045 - <EM>MIME (Multipurpose Internet Mail
Extensions)</EM>, from Gisle Aas.

<P>
<PRE>    use MIME::QuotedPrint;
</PRE>
<P>
<PRE>    $encoded = encode_qp(&quot;Smiley in Unicode: \x{263a}&quot;);
    $decoded = decode_qp($encoded);
</PRE>
<P>
<PRE>    print $encoded, &quot;\n&quot;; # &quot;Smiley in Unicode: =263A&quot;
</PRE>
<P>
MIME::QuotedPrint has been enhanced to provide the basic methods necessary
to use it with PerlIO::Via as in :

<P>
<PRE>    use MIME::QuotedPrint;
    open($fh,&quot;&gt;Via(MIME::QuotedPrint)&quot;,$path)
</PRE>
<P>
See <A HREF="/MIME/QuotedPrint.html">MIME::QuotedPrint</A>.

<LI>
<P>
<CODE>NEXT</CODE> is pseudo-class for method redispatch, from Damian Conway. See <EM>NEXT</EM>.

<LI>
<P>
<CODE>open</CODE> is a new pragma for setting the default I/O disciplines for
<CODE>open().</CODE>

<LI>
<P>
<CODE>PerlIO::Scalar</CODE> provides the implementation of IO to ``in memory'' Perl scalars as
discussed above, from Nick Ing-Simmons. It also serves as an example of a
loadable PerlIO layer. Other future possibilities include PerlIO::Array and
PerlIO::Code. See <A HREF="/PerlIO/Scalar.html">PerlIO::Scalar</A>.

<LI>
<P>
<CODE>PerlIO::Via</CODE> acts as a PerlIO layer and wraps PerlIO layer functionality provided by a
class (typically implemented in perl code), from Nick Ing-Simmons.

<P>
<PRE>    use MIME::QuotedPrint;
    open($fh,&quot;&gt;Via(MIME::QuotedPrint)&quot;,$path)
</PRE>
<P>
This will automatically convert everything output to <CODE>$fh</CODE>
to Quoted-Printable. See <A HREF="/PerlIO/Via.html">PerlIO::Via</A>.

<LI>
<P>
<CODE>Pod::ParseLink</CODE>, by Russ Allbery, has been added, to parse L&amp;lt;&amp;gt; links in pods
as described in the new perlpodspec.

<LI>
<P>
<CODE>Pod::Text::Overstrike</CODE>, by Joe Smith, has been added. It converts POD data to formatted
overstrike text. See <A HREF="/Pod/Text/Overstrike.html">Pod::Text::Overstrike</A>.

<LI>
<P>
<CODE>Scalar::Util</CODE> is a selection of general-utility scalar subroutines, like
<CODE>blessed(),</CODE> <CODE>reftype(),</CODE> and <CODE>tainted().</CODE>
See <A HREF="/Scalar/Util.html">Scalar::Util</A>.

<LI>
<P>
<CODE>sort</CODE> is a new pragma for controlling the behaviour of <CODE>sort().</CODE>

<LI>
<P>
<CODE>Storable</CODE> gives persistence to Perl data structures by allowing the storage and
retrieval of Perl data to and from files in a fast and compact binary
format, from Raphael Manfredi. See <EM>Storable</EM>.

<LI>
<P>
<CODE>Switch</CODE>, from Damian Conway, has been added. Just by saying

<P>
<PRE>    use Switch;
</PRE>
<P>
you have <CODE>switch</CODE> and <CODE>case</CODE> available in Perl.

<P>
<PRE>    use Switch;
</PRE>
<P>
<PRE>    switch ($val) {
</PRE>
<P>
<PRE>                case 1          { print &quot;number 1&quot; }
                case &quot;a&quot;        { print &quot;string a&quot; }
                case [1..10,42] { print &quot;number in list&quot; }
                case (@array)   { print &quot;number in list&quot; }
                case /\w+/      { print &quot;pattern&quot; }
                case qr/\w+/    { print &quot;pattern&quot; }
                case (%hash)    { print &quot;entry in hash&quot; }
                case (\%hash)   { print &quot;entry in hash&quot; }
                case (\&amp;sub)    { print &quot;arg to subroutine&quot; }
                else            { print &quot;previous case not true&quot; }
    }
</PRE>
<P>
See <EM>Switch</EM>.

<LI>
<P>
<CODE>Test::More</CODE> is yet another framework for writing test scripts, more extensive than
Test::Simple, by Michael Schwern. See <A HREF="/Test/More.html">Test::More</A>.

<LI>
<P>
<CODE>Test::Simple</CODE> has the- basic utilities for writing tests, by Michael Schwern. See <A HREF="/Test/Simple.html">Test::Simple</A>.

<LI>
<P>
<CODE>Text::Balanced</CODE> has been added, for extracting delimited text sequences from strings, from
Damian Conway.

<P>
<PRE>    use Text::Balanced 'extract_delimited';
</PRE>
<P>
<PRE>    ($a, $b) = extract_delimited(&quot;'never say never', he never said&quot;, &quot;'&quot;, '');
</PRE>
<P>
<CODE>$a</CODE> will be ``'never say never''', <CODE>$b</CODE> will be ',
he never said'.

<P>
In addition to <CODE>extract_delimited()</CODE> there are also
<CODE>extract_bracketed(),</CODE> <CODE>extract_quotelike(),</CODE>
<CODE>extract_codeblock(),</CODE> <CODE>extract_variable(),</CODE>
<CODE>extract_tagged(),</CODE> <CODE>extract_multiple(),</CODE>
<CODE>gen_delimited_pat(),</CODE> and <CODE>gen_extract_tagged().</CODE>
With these you can implement rather advanced parsing algorithms. See <A HREF="/Text/Balanced.html">Text::Balanced</A>.

<LI>
<P>
<CODE>threads</CODE> is an interface interpreter threads, by Arthur Bergman. Interpreter threads
(ithreads) is the new thread model introduced in Perl 5.6 but then
available only as an internal interface for extension writers. See <EM>threads</EM>.

<LI>
<P>
<CODE>threads::shared</CODE> allows data sharing for interpreter threads, from Arthur Bergman. In the
ithreads model any data sharing between threads must be explicit, as
opposed to the old 5.005 thread model where data sharing was implicit. See <A HREF="/threads/shared.html">threads::shared</A>.

<LI>
<P>
<CODE>Tie::RefHash::Nestable</CODE>, by Edward Avis, allows storing hash references (unlike the standard
Tie::RefHash) The module is contained within Tie::RefHash, see <A HREF="/Tie/RefHash.html">Tie::RefHash</A>.

<LI>
<P>
<CODE>Time::HiRes</CODE> provides high resolution timing (ualarm, usleep, and gettimeofday), from
Douglas E. Wegscheid. See <A HREF="/Time/HiRes.html">Time::HiRes</A>.

<LI>
<P>
<CODE>Unicode::UCD</CODE> offers a querying interface to the Unicode Character Database. See <A HREF="/Unicode/UCD.html">Unicode::UCD</A>.

<LI>
<P>
<CODE>Unicode::Collate</CODE> implements the UCA (Unicode Collation Algorithm) for sorting Unicode
strings, by SADAHIRO Tomoyuki. See <A HREF="/Unicode/Collate.html">Unicode::Collate</A>.

<LI>
<P>
<CODE>Unicode::Normalize</CODE> implements the various Unicode normalization forms, by SADAHIRO Tomoyuki.
See <A HREF="/Unicode/Normalize.html">Unicode::Normalize</A>.

<LI>
<P>
<CODE>XS::Typemap</CODE>, by Tim Jenness, is a test extension that exercises XS typemaps. Nothing
gets installed but for extension writers the code is worth studying.

</UL>
<P>
<HR>
<H2><A NAME="Updated_And_Improved_Modules_and">Updated And Improved Modules and Pragmata</A></H2>
<UL>
<LI>
<P>
The following independently supported modules have been updated to the
newest versions from CPAN: CGI, CPAN, DB_File, File::Spec, File::Temp,
Getopt::Long, Math::BigFloat, Math::BigInt, the podlators bundle (Pod::Man,
Pod::Text), Pod::LaTeX, Pod::Parser, Storable, Term::ANSIColor, Test,
Text-Tabs+Wrap.

<LI>
<P>
The attributes::reftype() now works on tied arguments.

<LI>
<P>
AutoLoader can now be disabled with <CODE>no AutoLoader;</CODE>,

<LI>
<P>
B::Deparse has been significantly enhanced. It now can deparse almost all
of the standard test suite (so that the tests still succeed). There is a
make target ``test.deparse'' for trying this out.

<LI>
<P>
Class::Struct can now define the classes in compile time.

<LI>
<P>
Class::Struct now assigns the array/hash element if the accessor is called
with an array/hash element as the <STRONG>sole</STRONG> argument.

<LI>
<P>
Data::Dumper has now an option to sort hashes.

<LI>
<P>
Data::Dumper has now an option to dump code references using B::Deparse.

<LI>
<P>
The English module can now be used without the infamous performance hit by
saying

<P>
<PRE>        use English '-no_performance_hit';
</PRE>
<P>
(Assuming, of course, that one doesn't need the troublesome variables
<CODE>$`</CODE>, <CODE>$&amp;</CODE>, or <CODE>$'</CODE>.) Also, introduced <CODE>@LAST_MATCH_START</CODE> and
<CODE>@LAST_MATCH_END</CODE> English aliases for <CODE>@-</CODE> and <CODE>@+</CODE>.

<LI>
<P>
Fcntl, Socket, and Sys::Syslog have been rewritten to use the new-style
constant dispatch section (see <A HREF="/ExtUtils/Constant.html">ExtUtils::Constant</A>). This means that they will be more robust and hopefully faster.

<LI>
<P>
File::Find now has pre- and post-processing callbacks. It also correctly
changes directories when chasing symbolic links. Callbacks (naughtily)
exiting with ``next;'' instead of ``return;'' now work.

<LI>
<P>
File::Find is now (again) reentrant. It also has been made more portable.

<LI>
<P>
File::Glob::glob() renamed to File::Glob::bsd_glob() to avoid prototype
mismatch with CORE::glob().

<LI>
<P>
File::Glob now supports <CODE>GLOB_LIMIT</CODE> constant to limit the size of the returned list of filenames.

<LI>
<P>
Devel::Peek now has an interface for the Perl memory statistics (this works
only if you are using perl's malloc, and if you have compiled with
debugging).

<LI>
<P>
IPC::Open3 now allows the use of numeric file descriptors.

<LI>
<P>
IO::Socket has now <CODE>atmark()</CODE> method, which returns true if the
socket is positioned at the out-of-band mark. The method is also exportable
as a <CODE>sockatmark()</CODE> function.

<LI>
<P>
IO::Socket::INET has support for ReusePort option (if your platform
supports it). The Reuse option now has an alias, ReuseAddr. For clarity you
may want to prefer ReuseAddr.

<LI>
<P>
IO::Socket::INET now supports <CODE>LocalPort</CODE> of zero (usually meaning that the operating system will make one up.)

<LI>
<P>
use lib now works identically to @INC. Removing directories with 'no lib'
now works.

<LI>
<P>
Math::BigFloat and Math::BigInt have undergone a full rewrite. They are now
magnitudes faster, and they support various bignum libraries such as GMP
and PARI as their backends.

<LI>
<P>
Net::Ping has been enhanced. There is now ``external'' protocol which uses
Net::Ping::External module which runs external <CODE>ping(1)</CODE> and
parses the output. An alpha version of Net::Ping::External is available in
CPAN and in 5.7.2 the Net::Ping::External may be integrated to Perl.

<LI>
<P>
POSIX::sigaction() is now much more flexible and robust. You can now
install coderef handlers, 'DEFAULT', and 'IGNORE' handlers, installing new
handlers was not atomic.

<LI>
<P>
<CODE>%INC</CODE> now localised in a Safe compartment so that use/require work.

<LI>
<P>
The Shell module now has an OO interface.

<LI>
<P>
The Test module has been significantly enhanced.

<LI>
<P>
The <CODE>vars</CODE> pragma now supports declaring fully qualified variables. (Something that <CODE>our()</CODE> does not and will not support.)

<LI>
<P>
The utf8:: name space (as in the pragma) provides various Perl-callable
functions to provide low level access to Perl's internal Unicode
representation. At the moment only <CODE>length()</CODE> has been
implemented.

</UL>
<P>
<HR>
<H1><A NAME="Utility_Changes">Utility Changes</A></H1>
<UL>
<LI>
<P>
Emacs perl mode (emacs/cperl-mode.el) has been updated to version 4.31.

<LI>
<P>
<EM>emacs/e2ctags.pl</EM> is now much faster.

<LI>
<P>
<CODE>h2ph</CODE> now supports C trigraphs.

<LI>
<P>
<CODE>h2xs</CODE> now produces a template README.

<LI>
<P>
<CODE>h2xs</CODE> now uses <CODE>Devel::PPort</CODE> for better portability between different versions of Perl.

<LI>
<P>
<CODE>h2xs</CODE> uses the new <A HREF="/ExtUtils/Constant.html">ExtUtils::Constant</A> module which will affect newly created extensions that define constants.
Since the new code is more correct (if you have two constants where the
first one is a prefix of the second one, the first constant <STRONG>never</STRONG> gets defined), less lossy (it uses integers for integer constant, as
opposed to the old code that used floating point numbers even for integer
constants), and slightly faster, you might want to consider regenerating
your extension code (the new scheme makes regenerating easy).
<EM>h2xs</EM> now also supports C trigraphs.

<LI>
<P>
<CODE>libnetcfg</CODE> has been added to configure the libnet.

<LI>
<P>
<CODE>perlbug</CODE> is now much more robust. It also sends the bug report to perl.org, not
perl.com.

<LI>
<P>
<CODE>perlcc</CODE> has been rewritten and its user interface (that is, command line) is much
more like that of the UNIX C compiler, cc.

<LI>
<P>
<CODE>perlivp</CODE> is a new utility for doing Installation Verification Procedure after
installing Perl.

<LI>
<P>
<CODE>pod2html</CODE> now allows specifying a cache directory.

<LI>
<P>
<CODE>s2p</CODE> has been completely rewritten in Perl. (It is in fact a full implementation
of sed in Perl: you can use the sed functionality by using the <CODE>psed</CODE> utility.)

<LI>
<P>
<CODE>xsubpp</CODE> now understands POD documentation embedded in the *.xs files.

<LI>
<P>
<CODE>xsubpp</CODE> now supports OUT keyword.

</UL>
<P>
<HR>
<H1><A NAME="New_Documentation">New Documentation</A></H1>
<UL>
<LI>
<P>
perl56delta details the changes between the 5.005 release and the 5.6.0
release.

<LI>
<P>
perlclib documents the internal replacements for standard C library
functions. (Interesting only for extension writers and Perl core hackers.)

<LI>
<P>
perldebtut is a Perl debugging tutorial.

<LI>
<P>
perlebcdic contains considerations for running Perl on EBCDIC platforms.
Note that unfortunately EBCDIC platforms that used to supported back in
Perl 5.005 are still unsupported by Perl 5.7.0; the plan, however, is to
bring them back to the fold.  

<LI>
<P>
perlintro is a gentle introduction to Perl.

<LI>
<P>
perliol documents the internals of PerlIO with layers.

<LI>
<P>
perlmodstyle is a style guide for writing modules.

<LI>
<P>
perlnewmod tells about writing and submitting a new module.

<LI>
<P>
perlpod has been rewritten to be clearer and to record the best practices
gathered over the years.

<LI>
<P>
perlpodstyle is a more formal specification of the pod format, mainly of
interest for writers of pod applications, not to people writing in pod.

<LI>
<P>
perlposix-bc explains using Perl on the POSIX-BC platform (an EBCDIC
mainframe platform).

<LI>
<P>
perlretut is a regular expression tutorial.

<LI>
<P>
perlrequick is a regular expressions quick-start guide. Yes, much quicker
than perlretut.

<LI>
<P>
perltodo has been updated.

<LI>
<P>
perltootc has been renamed as perltooc (to not to conflict with perltoot in
filesystems restricted to ``8.3'' names)

<LI>
<P>
perluniintro is an introduction to using Unicode in Perl (perlunicode is
more of a reference)

<LI>
<P>
perlutil explains the command line utilities packaged with the Perl
distribution.

</UL>
<P>
The following platform-specific documents are available before the
installation as README.<EM>platform</EM>, and after the installation as perl<EM>platform</EM>:

<P>
<PRE>    perlaix perlamiga perlapollo perlbeos perlbs2000
    perlce perlcygwin perldgux perldos perlepoc perlhpux
    perlhurd perlmachten perlmacos perlmint perlmpeix
    perlnetware perlos2 perlos390 perlplan9 perlqnx perlsolaris
    perltru64 perluts perlvmesa perlvms perlvos perlwin32
</PRE>
<UL>
<LI>
<P>
The documentation for the POSIX-BC platform is called ``BS2000'', to avoid
confusion with the Perl POSIX module.

<LI>
<P>
The documentation for the WinCE platform is called ``CE'', to avoid
confusion with the perlwin32 documentation on 8.3-restricted filesystems.

</UL>
<P>
<HR>
<H1><A NAME="Performance_Enhancements">Performance Enhancements</A></H1>
<UL>
<LI>
<P>
<CODE>map()</CODE> that changes the size of the list should now work
faster.

<LI>
<P>
<CODE>sort()</CODE> has been changed to use primarily mergesort internally
as opposed to the earlier quicksort. For very small lists this may result
in slightly slower sorting times, but in general the speedup should be at
least 20%. Additional bonuses are that the worst case behaviour of
<CODE>sort()</CODE> is now better (in computer science terms it now runs in
time <CODE>O(N</CODE> log N), as opposed to quicksort's
<CODE>Theta(N**2)</CODE> worst-case run time behaviour), and that
<CODE>sort()</CODE> is now stable (meaning that elements with identical
keys will stay ordered as they were before the sort). See the <CODE>sort</CODE> pragma for information.

<LI>
<P>
Hashes now use Bob Jenkins ``One-at-a-Time'' hashing key algorithm
(http://burtleburtle.net/bob/hash/doobs.html). This algorithm is reasonably
fast while producing a much better spread of values than the old hashing
algorithm (originally by Chris Torek, later tweaked by Ilya Zakharevich).
Hash values output from the algorithm on a hash of all 3-char printable
ASCII keys comes much closer to passing the DIEHARD random number
generation tests. According to perlbench, this change has not affected the
overall speed of Perl.

<LI>
<P>
<CODE>unshift()</CODE> should now be noticeably faster.

</UL>
<P>
<HR>
<H1><A NAME="Installation_and_Configuration_I">Installation and Configuration Improvements</A></H1>
<P>
<HR>
<H2><A NAME="Generic_Improvements">Generic Improvements</A></H2>
<UL>
<LI>
<P>
INSTALL now explains how you can configure Perl to use 64-bit integers even
on non-64-bit platforms.

<LI>
<P>
Policy.sh policy change: if you are reusing a Policy.sh file (see INSTALL)
and you use Configure -Dprefix=/foo/bar and in the old Policy
<CODE>$prefix</CODE> eq <CODE>$siteprefix</CODE> and <CODE>$prefix</CODE>
eq $vendorprefix, all of them will now be changed to the new prefix,
/foo/bar. (Previously only <CODE>$prefix</CODE> changed.) If you do not
like this new behaviour, specify prefix, siteprefix, and vendorprefix
explicitly.

<LI>
<P>
A new optional location for Perl libraries, otherlibdirs, is available. It
can be used for example for vendor add-ons without disturbing Perl's own
library directories.

<LI>
<P>
In many platforms the vendor-supplied 'cc' is too stripped-down to build
Perl (basically, 'cc' doesn't do ANSI C). If this seems to be the case and
'cc' does not seem to be the GNU C compiler 'gcc', an automatic attempt is
made to find and use 'gcc' instead.

<LI>
<P>
gcc needs to closely track the operating system release to avoid build
problems. If Configure finds that gcc was built for a different operating
system release than is running, it now gives a clearly visible warning that
there may be trouble ahead.

<LI>
<P>
If binary compatibility with the 5.005 release is not wanted, Configure no
longer suggests including the 5.005 modules in @INC.

<LI>
<P>
Configure <CODE>-S</CODE> can now run non-interactively.

<LI>
<P>
configure.gnu now works with options with whitespace in them.

<LI>
<P>
installperl now outputs everything to STDERR.

<LI>
<P>
$Config{byteorder} is now computed dynamically (this is more robust with
``fat binaries'' where an executable image contains binaries for more than
one binary platform.)

<LI>
<P>
Because PerlIO is now the default on most platforms, ``-perlio'' doesn't
get appended to the $Config{archname} (also known as $^O) anymore. Instead,
if you explicitly choose not to use perlio (Configure command line option
-Uuseperlio), you will get ``-stdio'' appended.

<LI>
<P>
Another change related to the architecture name is that ``-64all''
(-Duse64bitall, or ``maximally 64-bit'') is appended only if your pointers
are 64 bits wide. (To be exact, the use64bitall is ignored.)

<LI>
<P>
In AFS installations one can configure the root of the AFS to be somewhere
else than the default <EM>/afs</EM> by using the Configure parameter <CODE>-Dafsroot=/some/where/else</CODE>.

<LI>
<P>
APPLLIB_EXP, a less-know configuration-time definition, has been
documented. It can be used to prepend site-specific directories to Perl's
default search path (@INC), see INSTALL for information.

<LI>
<P>
The version of Berkeley DB used when the Perl (and, presumably, the DB_File
extension) was built is now available as
<CODE>@Config{qw(db_version_major db_version_minor db_version_patch)}</CODE>
from Perl and as <CODE>DB_VERSION_MAJOR_CFG DB_VERSION_MINOR_CFG
DB_VERSION_PATCH_CFG</CODE> from C.

<LI>
<P>
Building Berkeley DB3 for compatibility modes for DB, NDBM, and ODBM has
been documented in INSTALL.

<LI>
<P>
If you have CPAN access (either network or a local copy such as a CD-ROM)
you can during specify extra modules to Configure to build and install with
Perl using the -Dextras=... option. See INSTALL for more details.

<LI>
<P>
In addition to config.over a new override file, config.arch, is available.
That is supposed to be used by hints file writers for architecture-wide
changes (as opposed to config.over which is for site-wide changes).

<LI>
<P>
If your file system supports symbolic links you can build Perl outside of
the source directory by

<P>
<PRE>        mkdir /tmp/perl/build/directory
        cd /tmp/perl/build/directory
        sh /path/to/perl/source/Configure -Dmksymlinks ...
</PRE>
<P>
This will create in /tmp/perl/build/directory a tree of symbolic links
pointing to files in /path/to/perl/source. The original files are left
unaffected. After Configure has finished you can just say

<P>
<PRE>        make all test
</PRE>
<P>
and Perl will be built and tested, all in /tmp/perl/build/directory.

<LI>
<P>
For Perl developers several new make targets for profiling and debugging
have been added, see <EM>perlhack</EM>.

<UL>
<LI>
<P>
Use of the <EM>gprof</EM> tool to profile Perl has been documented in
<EM>perlhack</EM>. There is a make target called ``perl.gprof'' for generating a gprofiled
Perl executable.

<LI>
<P>
If you have GCC 3, there is a make target called ``perl.gcov'' for creating
a gcoved Perl executable for coverage analysis. See
<EM>perlhack</EM>.

<LI>
<P>
If you are on IRIX or Tru64 platforms, new profiling/debugging options have
been added, see <EM>perlhack</EM> for more information about pixie and Third Degree.

</UL>
<LI>
<P>
Guidelines of how to construct minimal Perl installations have been added
to INSTALL.

<LI>
<P>
The Thread extension is now not built at all under ithreads (<CODE>Configure -Duseithreads</CODE>) because it wouldn't work anyway (the Thread extension requires being
Configured with <CODE>-Duse5005threads</CODE>).

<P>
But note that the Thread.pm interface is now shared by both thread models.

</UL>
<P>
<HR>
<H2><A NAME="New_Or_Improved_Platforms">New Or Improved Platforms</A></H2>
<P>
For the list of platforms known to support Perl, see <EM>perlport</EM>.

<UL>
<LI>
<P>
AIX dynamic loading should be now better supported.

<LI>
<P>
AIX should now work better with gcc, threads, and 64-bitness. Also the long
doubles support in AIX should be better now. See <EM>perlaix</EM>.

<LI>
<P>
After a long pause, AmigaOS has been verified to be happy with Perl.

<LI>
<P>
AtheOS (http://www.atheos.cx/) is a new platform.

<LI>
<P>
DG/UX platform now supports the 5.005-style threads. See <EM>perldgux</EM>.

<LI>
<P>
DYNIX/ptx platform (a.k.a. dynixptx) is supported at or near osvers 4.5.2.

<LI>
<P>
EBCDIC platforms (z/OS, also known as OS/390, POSIX-BC, and VM/ESA) have
been regained. Many test suite tests still fail and the co-existence of
Unicode and EBCDIC isn't quite settled, but the situation is much better
than with Perl 5.6. See <EM>perlos390</EM>,
<EM>perlbs2000</EM> (for POSIX-BC), and <EM>perlvmesa</EM> for more information.

<LI>
<P>
Building perl with -Duseithreads or -Duse5005threads now works under HP-UX
10.20 (previously it only worked under 10.30 or later). You will need a
thread library package installed. See README.hpux.

<LI>
<P>
MacOS Classic (MacPerl has of course been available since perl 5.004 but
now the source code bases of standard Perl and MacPerl have been
synchronised)

<LI>
<P>
MacOS X (or Darwin) should now be able to build Perl even on HFS+
filesystems. (The case-insensitivity confused the Perl build process.)

<LI>
<P>
NCR MP-RAS is now supported.

<LI>
<P>
NetWare from Novell is now supported. See <EM>perlnetware</EM>.

<LI>
<P>
NonStop-UX is now supported.

<LI>
<P>
Amdahl UTS UNIX mainframe platform is now supported.

<LI>
<P>
WinCE is now supported. See <EM>perlce</EM>.

<LI>
<P>
z/OS (formerly known as OS/390, formerly known as MVS OE) has now support
for dynamic loading. This is not selected by default, however, you must
specify -Dusedl in the arguments of Configure.

</UL>
<P>
<HR>
<H1><A NAME="Selected_Bug_Fixes">Selected Bug Fixes</A></H1>
<P>
Numerous memory leaks and uninitialized memory accesses have been hunted
down. Most importantly anonymous subs used to leak quite a bit.

<UL>
<LI>
<P>
The autouse pragma didn't work for Multi::Part::Function::Names.

<LI>
<P>
<CODE>chop(@list)</CODE> in list context returned the characters chopped in
reverse order. This has been reversed to be in the right order.

<LI>
<P>
Configure no longer includes the DBM libraries (dbm, gdbm, db, ndbm) when
building the Perl binary. The only exception to this is SunOS 4.x, which
needs them.

<LI>
<P>
The behaviour of non-decimal but numeric string constants such as ``0x23''
was platform-dependent: in some platforms that was seen as 35, in some as
0, in some as a floating point number (don't ask). This was caused by Perl
using the operating system libraries in a situation where the result of the
string to number conversion is undefined: now Perl consistently handles
such strings as zero in numeric contexts.

<LI>
<P>
The order of DESTROYs has been made more predictable.

<LI>
<P>
Several debugger fixes: exit code now reflects the script exit code,
condition <CODE>&quot;0&quot;</CODE> now treated correctly, the <CODE>d</CODE> command now checks line number, the <CODE>$.</CODE> no longer gets corrupted, all debugger output now goes correctly to the
socket if RemotePort is set.

<LI>
<P>
<EM>dprofpp</EM> -R didn't work.

<LI>
<P>
<CODE>*foo{FORMAT}</CODE> now works.

<LI>
<P>
UNIVERSAL::isa no longer caches methods incorrectly. (This broke the Tk
extension with 5.6.0.)

<LI>
<P>
Lexicals I: lexicals outside an eval ``'' weren't resolved correctly inside
a subroutine definition inside the eval ``'' if they were not already
referenced in the top level of the eval``''ed code.

<LI>
<P>
Lexicals II: lexicals leaked at file scope into subroutines that were
declared before the lexicals.

<LI>
<P>
Lexical warnings now propagating correctly between scopes.

<LI>
<P>
Line renumbering with eval and <CODE>#line</CODE> now works.

<LI>
<P>
Fixed numerous memory leaks, especially in eval ``''.

<LI>
<P>
<CODE>mkdir()</CODE> now ignores trailing slashes in the directory name, as
mandated by POSIX.

<LI>
<P>
Some versions of glibc have a broken <CODE>modfl().</CODE> This affects
builds with <CODE>-Duselongdouble</CODE>. This version of Perl detects this brokenness and has a workaround for it.
The glibc release 2.2.2 is known to have fixed the <CODE>modfl()</CODE>
bug.

<LI>
<P>
Modulus of unsigned numbers now works (4063328477 % 65535 used to return
27406, instead of 27047).

<LI>
<P>
Some ``not a number'' warnings introduced in 5.6.0 eliminated to be more
compatible with 5.005. Infinity is now recognised as a number.

<LI>
<P>
Attributes (like :shared) didn't work with <CODE>our().</CODE>

<LI>
<P>
<CODE>our()</CODE> variables will not cause ``will not stay shared''
warnings.

<LI>
<P>
pack ``Z'' now correctly terminates the string with ``\0''.

<LI>
<P>
Fix password routines which in some shadow password platforms (e.g. HP-UX)
caused <CODE>getpwent()</CODE> to return every other entry.

<LI>
<P>
The PERL5OPT environment variable (for passing command line arguments to
Perl) didn't work for more than a single group of options.

<LI>
<P>
PERL5OPT with embedded spaces didn't work.

<LI>
<P>
<CODE>printf()</CODE> no longer resets the numeric locale to ``C''.

<LI>
<P>
<CODE>q(a\\b)</CODE> now parses correctly as <CODE>'a\\b'</CODE>.

<LI>
<P>
Printing quads (64-bit integers) with printf/sprintf now works without the
q L ll prefixes (assuming you are on a quad-capable platform).

<LI>
<P>
Regular expressions on references and overloaded scalars now work.

<LI>
<P>
Right-hand side magic (GMAGIC) could in many cases such as string
concatenation be invoked too many times.

<LI>
<P>
<CODE>scalar()</CODE> now forces scalar context even when used in void
context.

<LI>
<P>
SOCKS support is now much more robust.

<LI>
<P>
<CODE>sort()</CODE> arguments are now compiled in the right wantarray
context (they were accidentally using the context of the
<CODE>sort()</CODE> itself).

<LI>
<P>
Changed the POSIX character class <CODE>[[:space:]]</CODE> to include the (very rare) vertical tab character. Added a new POSIX-ish
character class
<CODE>[[:blank:]]</CODE> which stands for horizontal whitespace (currently, the space and the tab).

<LI>
<P>
The tainting behaviour of <CODE>sprintf()</CODE> has been rationalized. It
does not taint the result of floating point formats anymore, making the
behaviour consistent with that of string interpolation.

<LI>
<P>
<A HREF="/Sys/Syslog.html">Sys::Syslog</A> ignored the <CODE>LOG_AUTH</CODE> constant.

<LI>
<P>
All but the first argument of the IO <CODE>syswrite()</CODE> method are now
optional.

<LI>
<P>
$AUTOLOAD, <CODE>sort(),</CODE> <CODE>lock(),</CODE> and spawning
subprocesses in multiple threads simultaneously are now thread-safe.

<LI>
<P>
Tie::ARRAY SPLICE method was broken.

<LI>
<P>
Allow read-only string on left hand side of non-modifying tr///.

<LI>
<P>
Several Unicode fixes.

<UL>
<LI>
<P>
BOMs (byte order marks) in the beginning of Perl files (scripts, modules)
should now be transparently skipped. UTF-16 (UCS-2) encoded Perl files
should now be read correctly.

<LI>
<P>
The character tables have been updated to Unicode 3.1.1.

<LI>
<P>
Comparing with utf8 data does not magically upgrade non-utf8 data into
utf8.

<LI>
<P>
<CODE>IsAlnum</CODE>, <CODE>IsAlpha</CODE>, and <CODE>IsWord</CODE> now match titlecase.

<LI>
<P>
Concatenation with the <CODE>.</CODE> operator or via variable interpolation,
<CODE>eq</CODE>, <CODE>substr</CODE>, <CODE>reverse</CODE>, <CODE>quotemeta</CODE>, the <CODE>x</CODE> operator, substitution with <CODE>s///</CODE>, single-quoted UTF8, should now work.

<LI>
<P>
The <CODE>tr///</CODE> operator now works. Note that the <CODE>tr///CU</CODE>
functionality has been removed (but see <CODE>pack('U0',</CODE> ...)).

<LI>
<P>
<CODE>eval &quot;v200&quot;</CODE> now works.

<LI>
<P>
Zero entries were missing from the Unicode classes like <CODE>IsDigit</CODE>.

</UL>
</UL>
<P>
<HR>
<H2><A NAME="Platform_Specific_Changes_and_Fi">Platform Specific Changes and Fixes</A></H2>
<UL>
<LI>
<P>
BSDI 4.*

<P>
Perl now works on post-4.0 BSD/OSes.

<LI>
<P>
All BSDs

<P>
Setting <CODE>$0</CODE> now works (as much as possible; see perlvar for details).

<LI>
<P>
Cygwin

<P>
Numerous updates; currently synchronised with Cygwin 1.1.4.

<LI>
<P>
Previously DYNIX/ptx had problems in its Configure probe for non-blocking
I/O.

<LI>
<P>
EPOC

<P>
EPOC update after Perl 5.6.0. See README.epoc.

<LI>
<P>
FreeBSD 3.*

<P>
Perl now works on post-3.0 FreeBSDs.

<LI>
<P>
HP-UX

<P>
README.hpux updated; <CODE>Configure -Duse64bitall</CODE> now almost works.

<LI>
<P>
IRIX

<P>
Numerous compilation flag and hint enhancements; accidental mixing of
32-bit and 64-bit libraries (a doomed attempt) made much harder.

<LI>
<P>
Linux

<UL>
<LI>
<P>
Long doubles should now work (see INSTALL).

<LI>
<P>
Linux previously had problems related to sockaddrlen when using
<CODE>accept(),</CODE> <CODE>revcfrom()</CODE> (in Perl:
<CODE>recv()),</CODE> <CODE>getpeername(),</CODE> and
<CODE>getsockname().</CODE>

</UL>
<LI>
<P>
MacOS Classic

<P>
Compilation of the standard Perl distribution in MacOS Classic should now
work if you have the Metrowerks development environment and the missing
Mac-specific toolkit bits. Contact the macperl mailing list for details.

<LI>
<P>
MPE/iX

<P>
MPE/iX update after Perl 5.6.0. See README.mpeix.

<LI>
<P>
NetBSD/sparc

<P>
Perl now works on NetBSD/sparc.

<LI>
<P>
OS/2

<P>
Now works with usethreads (see INSTALL).

<LI>
<P>
Solaris

<P>
64-bitness using the Sun Workshop compiler now works.

<LI>
<P>
Tru64 (aka Digital UNIX, aka DEC OSF/1)

<P>
The operating system version letter now recorded in $Config{osvers}. Allow
compiling with gcc (previously explicitly forbidden). Compiling with gcc
still not recommended because buggy code results, even with gcc 2.95.2.

<LI>
<P>
Unicos

<P>
Fixed various alignment problems that lead into core dumps either during
build or later; no longer dies on math errors at runtime; now using full
quad integers (64 bits), previously was using only 46 bit integers for
speed.

<LI>
<P>
VMS

<P>
<CODE>chdir()</CODE> now works better despite a CRT bug; now works with
MULTIPLICITY (see INSTALL); now works with Perl's malloc.

<LI>
<P>
Windows

<UL>
<LI>
<P>
<CODE>accept()</CODE> no longer leaks memory.

<LI>
<P>
Borland C++ v5.5 is now a supported compiler that can build Perl. However,
the generated binaries continue to be incompatible with those generated by
the other supported compilers (GCC and Visual C++).

<LI>
<P>
Better <CODE>chdir()</CODE> return value for a non-existent directory.

<LI>
<P>
Duping socket handles with <CODE>open(F,</CODE> ``&gt;&amp;MYSOCK'') now
works under Windows 9x.

<LI>
<P>
New <CODE>%ENV</CODE> entries now propagate to subprocesses.

<LI>
<P>
$ENV{LIB} now used to search for libs under Visual C.

<LI>
<P>
Win32::GetCwd() correctly returns C:\ instead of C: when at the drive root.
Other bugs in <CODE>chdir()</CODE> and Cwd::cwd() have also been fixed.

<LI>
<P>
A failed (pseudo)fork now returns undef and sets errno to EAGAIN.

<LI>
<P>
HTML files will be installed in c:\perl\html instead of
c:\perl\lib\pod\html

<LI>
<P>
The makefiles now provide a single switch to bulk-enable all the features
enabled in ActiveState ActivePerl (a popular Win32 binary distribution).

<LI>
<P>
Allow REG_EXPAND_SZ keys in the registry.

<LI>
<P>
Can now <CODE>send()</CODE> from all threads, not just the first one.

<LI>
<P>
Fake signal handling reenabled, bugs and all.

<LI>
<P>
Less stack reserved per thread so that more threads can run concurrently.
(Still 16M per thread.)

<LI>
<P>
<CODE>File::Spec-</CODE><CODE>tmpdir()&gt;</CODE> now prefers C:/temp over /tmp (works better when
perl is running as service).

<LI>
<P>
Better UNC path handling under ithreads.

<LI>
<P>
<CODE>wait()</CODE> and <CODE>waitpid()</CODE> now work much better.

<LI>
<P>
winsock handle leak fixed.

</UL>
</UL>
<P>
<HR>
<H1><A NAME="New_or_Changed_Diagnostics">New or Changed Diagnostics</A></H1>
<UL>
<LI>
<P>
All regular expression compilation error messages are now hopefully easier
to understand both because the error message now comes before the failed
regex and because the point of failure is now clearly marked by a <CODE>&amp;lt;-- HERE</CODE> marker.

<LI>
<P>
The various ``opened only for'', ``on closed'', ``never opened'' warnings
drop the <CODE>main::</CODE> prefix for filehandles in the <CODE>main</CODE> package, for example <CODE>STDIN</CODE> instead of &lt;main::STDIN&gt;. 

<LI>
<P>
The ``Unrecognized escape'' warning has been extended to include <CODE>\8</CODE>,
<CODE>\9</CODE>, and <CODE>\_</CODE>. There is no need to escape any of the <CODE>\w</CODE> characters.

<LI>
<P>
Two new debugging options have been added: if you have compiled your Perl
with debugging, you can use the -DT and -DR options to trace tokenising and
to add reference counts to displaying variables, respectively.

<LI>
<P>
If an attempt to use a (non-blessed) reference as an array index is made, a
warning is given.

<LI>
<P>
<CODE>push @a;</CODE> and <CODE>unshift @a;</CODE> (with no values to push or unshift) now give a warning. This may be a
problem for generated and evaled code.

<LI>
<P>
If you try to <EM>perlfunc</EM> a number less than 0 or larger than 255 using the <CODE>&quot;C&quot;</CODE> format you will get an optional warning. Similarly for the <CODE>&quot;c&quot;</CODE> format and a number less than -128 or more than 127.

<LI>
<P>
Certain regex modifiers such as <CODE>(?o)</CODE> make sense only if applied to the entire regex. You will an optional
warning if you try to do otherwise.

<LI>
<P>
Using arrays or hashes as references (e.g. <CODE>%foo-</CODE>{bar}&gt; has been deprecated for a while. Now you will get an optional
warning.

</UL>
<P>
<HR>
<H1><A NAME="Changed_Internals">Changed Internals</A></H1>
<UL>
<LI>
<P>
perlapi.pod (a companion to perlguts) now attempts to document the internal
API.

<LI>
<P>
You can now build a really minimal perl called microperl. Building
microperl does not require even running Configure;
<CODE>make -f Makefile.micro</CODE> should be enough. Beware: microperl makes many assumptions, some of which
may be too bold; the resulting executable may crash or otherwise misbehave
in wondrous ways. For careful hackers only.

<LI>
<P>
Added <CODE>rsignal(),</CODE> <CODE>whichsig(),</CODE>
<CODE>do_join()</CODE> to the publicised API.

<LI>
<P>
Made possible to propagate customised exceptions via
<CODE>croak()ing.</CODE>

<LI>
<P>
Added <CODE>is_utf8_char(),</CODE> <CODE>is_utf8_string(),</CODE>
<CODE>bytes_to_utf8(),</CODE> and <CODE>utf8_to_bytes().</CODE>

<LI>
<P>
Now xsubs can have attributes just like subs.

<LI>
<P>
Some new APIs: <CODE>ptr_table_clear(),</CODE>
<CODE>ptr_table_free(),</CODE> <CODE>sv_setref_uv().</CODE> For the full
list of the available APIs see <EM>perlapi</EM>.

<LI>
<P>
dTHR and djSP have been obsoleted; the former removed (because it's a
no-op) and the latter replaced with dSP.

<LI>
<P>
PERL_OBJECT has been completely removed.

<LI>
<P>
The MAGIC constants (e.g. <CODE>'P'</CODE>) have been macrofied (e.g. <CODE>PERL_MAGIC_TIED</CODE>) for better source code readability and maintainability.

<LI>
<P>
The regex compiler now maintains a structure that identifies nodes in the
compiled bytecode with the corresponding syntactic features of the original
regex expression. The information is attached to the new
<CODE>offsets</CODE> member of the <CODE>struct regexp</CODE>. See <EM>perldebguts</EM> for more complete information.

<LI>
<P>
The C code has been made much more <CODE>gcc -Wall</CODE> clean. Some warning messages still remain in some platforms, so if you are
compiling with gcc you may see some warnings about dubious practices. The
warnings are being worked on.

<LI>
<P>
<EM>perly.c</EM>, <EM>sv.c</EM>, and <EM>sv.h</EM> have now been extensively commented.

<LI>
<P>
Documentation on how to use the Perl source repository has been added to <EM>Porting/repository.pod</EM>.

<LI>
<P>
There are now several profiling make targets 

<LI>
<P>
The <CODE>op_clear</CODE> and <CODE>op_null</CODE> are now exported.

</UL>
<P>
<HR>
<H1><A NAME="Security_Vulnerability_Closed">Security Vulnerability Closed</A></H1>
<P>
(This change was already made in 5.7.0 but bears repeating here.)

<P>
A potential security vulnerability in the optional suidperl component of
Perl was identified in August 2000. suidperl is neither built nor installed
by default. As of November 2001 the only known vulnerable platform is
Linux, most likely all Linux distributions. CERT and various vendors and
distributors have been alerted about the vulnerability. See <A
HREF="http://www.cpan.org/src/5.0/sperl-2000-08-05/sperl-2000-08-05.txt">http://www.cpan.org/src/5.0/sperl-2000-08-05/sperl-2000-08-05.txt</A>
for more information.

<P>
The problem was caused by Perl trying to report a suspected security
exploit attempt using an external program, /bin/mail. On Linux platforms
the /bin/mail program had an undocumented feature which when combined with
suidperl gave access to a root shell, resulting in a serious compromise
instead of reporting the exploit attempt. If you don't have /bin/mail, or
if you have 'safe setuid scripts', or if suidperl is not installed, you are
safe.

<P>
The exploit attempt reporting feature has been completely removed from Perl
5.8.0 (and the maintenance release 5.6.1, and it was removed also from all
the Perl 5.7 releases), so that particular vulnerability isn't there
anymore. However, further security vulnerabilities are, unfortunately,
always possible. The suidperl functionality is most probably going to be
removed in Perl 5.10. In any case, suidperl should only be used by security
experts who know exactly what they are doing and why they are using
suidperl instead of some other solution such as sudo (see <A
HREF="http://www.courtesan.com/sudo/).">http://www.courtesan.com/sudo/).</A>


<P>
<HR>
<H1><A NAME="New_Tests">New Tests</A></H1>
<P>
Several new tests have been added, especially for the <EM>lib</EM> subsection.

<P>
The tests are now reported in a different order than in earlier Perls.
(This happens because the test scripts from under t/lib have been moved to
be closer to the library/extension they are testing.)

<P>
<HR>
<H1><A NAME="Known_Problems">Known Problems</A></H1>
<P>
Note that unlike other sections in this document (which describe changes
since 5.7.0) this section is cumulative containing known problems for all
the 5.7 releases.

<P>
<HR>
<H2><A NAME="AIX">AIX</A></H2>
<UL>
<LI>
<P>
In AIX 4.2 Perl extensions that use C++ functions that use statics may have
problems in that the statics are not getting initialized. In newer AIX
releases this has been solved by linking Perl with the libC_r library, but
unfortunately in AIX 4.2 the said library has an obscure bug where the
various functions related to time (such as <CODE>time()</CODE> and
<CODE>gettimeofday())</CODE> return broken values, and therefore in AIX 4.2
Perl is not linked against the libC_r.

<LI>
<P>
vac 5.0.0.0 May Produce Buggy Code For Perl

<P>
The AIX C compiler vac version 5.0.0.0 may produce buggy code, resulting in
few random tests failing, but when the failing tests are run by hand, they
succeed. We suggest upgrading to at least vac version 5.0.1.0, that has
been known to compile Perl correctly. ``lslpp -L|grep vac.C'' will tell you
the vac version.

</UL>
<P>
<HR>
<H2><A NAME="Amiga_Perl_Invoking_Mystery">Amiga Perl Invoking Mystery</A></H2>
<P>
One cannot call Perl using the <CODE>volume:</CODE> syntax, that is, <CODE>perl -v</CODE>
works, but for example <CODE>bin:perl -v</CODE> doesn't. The exact reason is known but the current suspect is the <EM>ixemul</EM> library.

<P>
<HR>
<H2><A NAME="lib_ftmp_security_tests_warn_sy">lib/ftmp-security tests warn 'system possibly insecure'</A></H2>
<P>
Don't panic. Read INSTALL 'make test' section instead.

<P>
<HR>
<H2><A NAME="Cygwin_intermittent_failures_of_">Cygwin intermittent failures of lib/Memoize/t/expire_file 11 and 12</A></H2>
<P>
The subtests 11 and 12 sometimes fail and sometimes work.

<P>
<HR>
<H2><A NAME="HP_UX_lib_io_multihomed_Fails_Wh">HP-UX lib/io_multihomed Fails When LP64-Configured</A></H2>
<P>
The lib/io_multihomed test may hang in HP-UX if Perl has been configured to
be 64-bit. Because other 64-bit platforms do not hang in this test, HP-UX
is suspect. All other tests pass in 64-bit HP-UX. The test attempts to
create and connect to ``multihomed'' sockets (sockets which have multiple
IP addresses).

<P>
<HR>
<H2><A NAME="HP_UX_lib_posix_Subtest_9_Fails_">HP-UX lib/posix Subtest 9 Fails When LP64-Configured</A></H2>
<P>
If perl is configured with -Duse64bitall, the successful result of the
subtest 10 of lib/posix may arrive before the successful result of the
subtest 9, which confuses the test harness so much that it thinks the
subtest 9 failed.

<P>
<HR>
<H2><A NAME="Linux_With_Sfio_Fails_op_misc_Te">Linux With Sfio Fails op/misc Test 48</A></H2>
<P>
No known fix.

<P>
<HR>
<H2><A NAME="OS_390">OS/390</A></H2>
<P>
OS/390 has rather many test failures but the situation is actually better
than it was in 5.6.0, it's just that so many new modules and tests have
been added.

<P>
<PRE> Failed Test                     Stat Wstat Total Fail  Failed  List of Failed
 -----------------------------------------------------------------------------
 ../ext/B/Deparse.t                            14    1   7.14%  14
 ../ext/B/Showlex.t                             1    1 100.00%  1
 ../ext/Encode/Encode/Tcl.t                   610   13   2.13%  592 594 596 598
                                                                600 602 604-610
 ../ext/IO/lib/IO/t/io_unix.t     113 28928     5    3  60.00%  3-5
 ../ext/POSIX/POSIX.t                          29    1   3.45%  14
 ../ext/Storable/t/lock.t         255 65280     5    3  60.00%  3-5
 ../lib/locale.t                  129 33024   117   19  16.24%  99-117
 ../lib/warnings.t                            434    1   0.23%  75
 ../lib/ExtUtils.t                             27    1   3.70%  25
 ../lib/Math/BigInt/t/bigintpm.t             1190    1   0.08%  1145
 ../lib/Unicode/UCD.t                          81   48  59.26%  1-16 49-64 66-81
 ../lib/User/pwent.t                            9    1  11.11%  4
 op/pat.t                                     660    6   0.91%  242-243 424-425
                                                                626-627
 op/split.t                         0     9    ??   ??       %  ??
 op/taint.t                                   174    3   1.72%  156 162 168
 op/tr.t                                       70    3   4.29%  50 58-59
 Failed 16/422 test scripts, 96.21% okay. 105/23251 subtests failed, 99.55% okay.
</PRE>
<P>
<HR>
<H2><A NAME="op_sprintf_tests_129_and_130">op/sprintf tests 129 and 130</A></H2>
<P>
The op/sprintf tests 129 and 130 are known to fail on some platforms.
Examples include any platform using sfio, and Compaq/Tandem's NonStop-UX.
The failing platforms do not comply with the ANSI C Standard, line 19ff on
page 134 of ANSI X3.159 1989 to be exact. (They produce something other
than ``1'' and ``-1'' when formatting 0.6 and -0.6 using the printf format
``%.0f'', most often they produce ``0'' and ``-0''.)

<P>
<HR>
<H2><A NAME="Failure_of_Thread_tests">Failure of Thread tests</A></H2>
<P>
<STRONG>Note that support for 5.005-style threading remains experimental.</STRONG>



<P>
The following tests are known to fail due to fundamental problems in the
5.005 threading implementation. These are not new failures--Perl 5.005_0x
has the same bugs, but didn't have these tests.

<P>
<PRE>  lib/autouse.t                 4
  t/lib/thr5005.t               19-20
</PRE>
<P>
<HR>
<H2><A NAME="UNICOS">UNICOS</A></H2>
<UL>
<LI>
<P>
ext/POSIX/sigaction subtests 6 and 13 may fail.

<LI>
<P>
lib/ExtUtils may spuriously claim that subtest 28 failed, which is
interesting since the test only has 27 tests.

<LI>
<P>
Numerous numerical test failures

<P>
<PRE>  op/numconvert                 209,210,217,218
  op/override                   7
  ext/Time/HiRes/HiRes          9
  lib/Math/BigInt/t/bigintpm    1145
  lib/Math/Trig                 25
</PRE>
<P>
These tests fail because of yet unresolved floating point inaccuracies.

</UL>
<P>
<HR>
<H2><A NAME="UTS">UTS</A></H2>
<P>
There are a few known test failures, see <EM>perluts</EM>.

<P>
<HR>
<H2><A NAME="VMS">VMS</A></H2>
<P>
Rather many tests are failing in VMS but that actually more tests succeed
in VMS than they used to, it's just that there are many, many more tests
than there used to be.

<P>
Here are the known failures from some compiler/platform combinations.

<P>
DEC C V5.3-006 on OpenVMS VAX V6.2

<P>
<PRE>  [-.ext.list.util.t]tainted..............FAILED on test 3
  [-.ext.posix]sigaction..................FAILED on test 7
  [-.ext.time.hires]hires.................FAILED on test 14
  [-.lib.file.find]taint..................FAILED on test 17
  [-.lib.math.bigint.t]bigintpm...........FAILED on test 1183
  [-.lib.test.simple.t]exit...............FAILED on test 1
  [.lib]vmsish............................FAILED on test 13
  [.op]sprintf............................FAILED on test 12
  Failed 8/399 tests, 91.23% okay.
</PRE>
<P>
DEC C V6.0-001 on OpenVMS Alpha V7.2-1 and Compaq C V6.2-008 on OpenVMS
Alpha V7.1

<P>
<PRE>  [-.ext.list.util.t]tainted..............FAILED on test 3 
  [-.lib.file.find]taint..................FAILED on test 17
  [-.lib.test.simple.t]exit...............FAILED on test 1
  [.lib]vmsish............................FAILED on test 13
  Failed 4/399 tests, 92.48% okay.
</PRE>
<P>
Compaq C V6.4-005 on OpenVMS Alpha 7.2.1

<P>
<PRE>  [-.ext.b]showlex........................FAILED on test 1
  [-.ext.list.util.t]tainted..............FAILED on test 3
  [-.lib.file.find]taint..................FAILED on test 17 
  [-.lib.test.simple.t]exit...............FAILED on test 1
  [.lib]vmsish............................FAILED on test 13
  [.op]misc...............................FAILED on test 49
  Failed 6/401 tests, 92.77% okay.
</PRE>
<P>
<HR>
<H2><A NAME="Win32">Win32</A></H2>
<P>
In multi-CPU boxes there are some problems with the I/O buffering: some
output may appear twice.

<P>
<HR>
<H2><A NAME="Localising_a_Tied_Variable_Leaks">Localising a Tied Variable Leaks Memory</A></H2>
<P>
<PRE>    use Tie::Hash;
    tie my %tie_hash =&gt; 'Tie::StdHash';
</PRE>
<P>
<PRE>    ...
</PRE>
<P>
<PRE>    local($tie_hash{Foo}) = 1; # leaks
</PRE>
<P>
Code like the above is known to leak memory every time the
<CODE>local()</CODE> is executed.

<P>
<HR>
<H2><A NAME="Self_tying_of_Arrays_and_Hashes_">Self-tying of Arrays and Hashes Is Forbidden</A></H2>
<P>
Self-tying of arrays and hashes is broken in rather deep and hard-to-fix
ways. As a stop-gap measure to avoid people from getting frustrated at the
mysterious results (core dumps, most often) it is for now forbidden (you
will get a fatal error even from an attempt).

<P>
<HR>
<H2><A NAME="Variable_Attributes_are_not_Curr">Variable Attributes are not Currently Usable for Tieing</A></H2>
<P>
This limitation will hopefully be fixed in future. (Subroutine attributes
work fine for tieing, see <A HREF="/Attribute/Handlers.html">Attribute::Handlers</A>).

<P>
<HR>
<H2><A NAME="Building_Extensions_Can_Fail_Bec">Building Extensions Can Fail Because Of Largefiles</A></H2>
<P>
Some extensions like mod_perl are known to have issues with `largefiles', a
change brought by Perl 5.6.0 in which file offsets default to 64 bits wide,
where supported. Modules may fail to compile at all or compile and work
incorrectly. Currently there is no good solution for the problem, but
Configure now provides appropriate non-largefile ccflags, ldflags,
libswanted, and libs in the <CODE>%Config</CODE> hash (e.g.,
$Config{ccflags_nolargefiles}) so the extensions that are having problems
can try configuring themselves without the largefileness. This is
admittedly not a clean solution, and the solution may not even work at all.
One potential failure is whether one can (or, if one can, whether it's a
good idea) link together at all binaries with different ideas about file
offsets, all this is platform-dependent.

<P>
<HR>
<H2><A NAME="The_Compiler_Suite_Is_Still_Expe">The Compiler Suite Is Still Experimental</A></H2>
<P>
The compiler suite is slowly getting better but is nowhere near working
order yet.

<P>
<HR>
<H2><A NAME="The_Long_Double_Support_is_Still">The Long Double Support is Still Experimental</A></H2>
<P>
The ability to configure Perl's numbers to use ``long doubles'', floating
point numbers of hopefully better accuracy, is still experimental. The
implementations of long doubles are not yet widespread and the existing
implementations are not quite mature or standardised, therefore trying to
support them is a rare and moving target. The gain of more precision may
also be offset by slowdown in computations (more bits to move around, and
the operations are more likely to be executed by less optimised libraries).

<P>
<HR>
<H1><A NAME="Reporting_Bugs">Reporting Bugs</A></H1>
<P>
If you find what you think is a bug, you might check the articles recently
posted to the comp.lang.perl.misc newsgroup and the perl bug database at <A
HREF="http://bugs.perl.org.">http://bugs.perl.org.</A> There may also be
information at <A
HREF="http://www.perl.com/perl/,">http://www.perl.com/perl/,</A> the Perl
Home Page.

<P>
If you believe you have an unreported bug, please run the <STRONG>perlbug</STRONG>
program included with your release. Be sure to trim your bug down to a tiny
but sufficient test case. Your bug report, along with the output of <CODE>perl -V</CODE>, will be sent off to <A
HREF="mailto:perlbug@perl.org">perlbug@perl.org</A> to be analysed by the
Perl porting team.

<P>
<HR>
<H1><A NAME="SEE_ALSO">SEE ALSO</A></H1>
<P>
The <EM>Changes</EM> file for exhaustive details on what changed.

<P>
The <EM>INSTALL</EM> file for how to build Perl.

<P>
The <EM>README</EM> file for general stuff.

<P>
The <EM>Artistic</EM> and <EM>Copying</EM> files for copyright information.

<P>
<HR>
<H1><A NAME="HISTORY">HISTORY</A></H1>
<P>
Written by Jarkko Hietaniemi &lt;<EM>jhi@iki.fi</EM>&gt;.

</BODY>

</HTML>
